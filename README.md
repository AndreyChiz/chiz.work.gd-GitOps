# Infrastructure Repository

Репозиторий содержит все конфигурации и манифесты для управления Kubernetes-кластером и деплоем приложения.  

---

## Структура репозитория

- `clusters/`  
  Хранит конфигурации кластеров Kubernetes.  
  - `kind/` — локальные кластеры для разработки.  
  - `dev/`, `staging/`, `prod/` — конфиги для соответствующих окружений.  

- `k8s/`  
  Манифесты Kubernetes для приложений.  
  - `base/` — общие манифесты, которые не зависят от окружения (Deployment, Service, ConfigMap, Secret).  
  - `overlays/` — специфичные конфигурации для каждого окружения.  
  - `helm/` — Helm charts для упрощённого деплоя и управления версиями приложений.  

- `terraform/`  
  Конфигурации Terraform для управления облачной инфраструктурой: виртуальные машины, сети, хранилища, балансировщики нагрузки.  

- `ci/`  
  Скрипты и пайплайны CI/CD для автоматизации деплоя: сборка Docker-образов, применение Kubernetes манифестов, тестирование и проверка окружений.  

---

## Использование

1. Локальный кластер (`kind`):

- 
```bash
# Развертывание
kind create cluster --name my-cluster --config clusters/kind/kind-config.yaml
```

2. Применение манифестов

```sh
kubectl apply -k k8s/overlays/dev
```

3. CI/CD: скрипты из ci/ подключаются к репозиторию и автоматически деплоят изменения в dev, staging или prod.